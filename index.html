<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu de Pr√©diction de Mariage</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(to right, #ff7e5f, #feb47b);
            font-family: 'Poppins', sans-serif;
        }
        .hidden {
            display: none;
        }
        .celebration-icon {
            position: absolute;
            width: 50px;
            animation: fall 2s linear forwards;
        }
        @keyframes fall {
            0% { transform: translateY(-100px); opacity: 1; }
            100% { transform: translateY(100vh); opacity: 0; }
        }
        .challenge {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
            transition: transform 0.2s;
        }
        .challenge:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen relative overflow-hidden">
    <div class="bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center z-10">
        <h1 class="text-3xl font-bold mb-4 text-gray-800">Jeu de Pr√©diction de Mariage üíç</h1>
        
        <div id="formSection">
            <p class="mb-4">Entrez votre pr√©nom :</p>
            <input type="text" id="nameInput" class="border p-2 rounded mb-4 w-full" placeholder="Votre pr√©nom">
            <select id="genderSelect" class="border p-2 rounded mb-4 w-full">
                <option value="">S√©lectionnez votre sexe</option>
                <option value="girl">Fille</option>
                <option value="boy">Gar√ßon</option>
            </select>
            <button id="startButton" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition">Commencer le jeu</button>
        </div>

        <div id="gameSection" class="hidden">
            <p class="mb-4">Cliquez sur le bouton ci-dessous pour tirer au sort un partenaire !</p>
            <button id="drawButton" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition">Tirer au sort</button>
            
            <div id="result" class="hidden mt-4">
                <h2 class="text-xl font-semibold" id="partnerName"></h2>
                <p id="message" class="mt-2 text-gray-600"></p>
                <div id="prediction" class="mt-2 text-gray-600"></div>
                <button id="nextChallenge" class="mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition">Prochain d√©fi</button>
                <p id="thankYouMessage" class="mt-4 hidden text-green-600 font-semibold"></p>
            </div>
        </div>

        <div id="challengeSection" class="hidden">
            <div id="challengeContent" class="mt-4"></div>
            <button id="prevChallenge" class="hidden bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition">D√©fi Pr√©c√©dent</button>
            <button id="nextChallengeBtn" class="hidden bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition">D√©fi Suivant</button>
        </div>

        <footer class="mt-6">
            <p class="text-gray-500 text-sm">¬© 2024 dx_code. Tous droits r√©serv√©s.</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script>
        const girls = [
            "Ghappy Bilombe", "Noa Katako", "Am√©lie Mandeba",
            "Emmanuel Nzila", "Gr√¢ce Malasi", "Ruth Ntumba",
            "Promedi Luwengo", "Gr√¢ce Matondo", "Chricha Salambiaku",
            "Gemima Longo", "Gr√¢ce Ngime", "F√©licit√© Kafuamba",
            "Dorcas Irundu", "Deborah Bola"
        ];

        const boys = [
            "Doxel Kanda", "Aaron Tshangu", "Wiverlin Muzingu",
            "Chriony Mandiangu", "Junior Bakizolele", "Joe Moleki",
            "Adona√Ø Balazire", "Edvi Okenge", "Daniel Kalonji",
            "Braneli Kassa", "Daniel Ubota (Satant)", "Emmanuel Nkula",
            "J√©rome Tabuzike", "Moses Lukula"
        ];

        const challenges = [
            "üé® Dessine ton partenaire : Dessinez votre partenaire en moins de 2 minutes et partagez le r√©sultat dans le groupe.",
            "üé§ Imit√© sa voix : Enregistrez-vous en train d'imiter la voix de votre partenaire et envoyez l'audio.",
            "üòÇ Souvenir dr√¥le : Racontez un souvenir dr√¥le que vous avez avec votre partenaire et partagez-le dans le groupe.",
            "üí¨ Compliment : Envoyez un compliment sinc√®re √† votre partenaire et partagez-le dans le groupe.",
            "üì∏ Selfie avec un filtre : Prenez un selfie avec un filtre dr√¥le et partagez-le dans le groupe.",
            "üìù Statut WhatsApp : Postez une photo ou un message dr√¥le sur votre partenaire en statut WhatsApp pendant 24 heures.",
            "üìö Histoire en emojis : Racontez votre histoire en utilisant uniquement des emojis et faites deviner l'histoire."
        ];

        const countries = [
            "Afghanistan", "Albanie", "Alg√©rie", "Andorre", "Angola", "Antigua-et-Barbuda",
            "Argentine", "Arm√©nie", "Australie", "Autriche", "Azerba√Ødjan", "Bahamas",
            "Bahre√Øn", "Bangladesh", "Barbade", "B√©larus", "Belgique", "Belize",
            "B√©nin", "Bhoutan", "Bolivie", "Bosnie-Herz√©govine", "Botswana", "Br√©sil",
            "Brunei", "Bulgarie", "Burkina Faso", "Burundi", "Cabo Verde", "Cambodge",
            "Cameroun", "Canada", "Centrafrique", "Chili", "Chine", "Chypre",
            "Colombie", "Comores", "Congo", "Congo (RDC)", "Costa Rica", "Croatie",
            "Cuba", "Danemark", "Djibouti", "Dominique", "√âgypte", "√âmirats Arabes Unis",
            "√âquateur", "√ârythr√©e", "Espagne", "Estonie", "Eswatini", "√âtats-Unis",
            "Fidji", "Filipines", "Finlande", "France", "Gabon", "Gambie",
            "G√©orgie", "Ghana", "Gr√®ce", "Grenade", "Guatemala", "Guin√©e",
            "Guin√©e-Bissau", "Guin√©e √©quatoriale", "Guyana", "Ha√Øti", "Honduras",
            "Hongrie", "Inde", "Indon√©sie", "Irak", "Iran", "Irlande",
            "Islande", "Isra√´l", "Italie", "Jama√Øque", "Japon", "Jordanie",
            "Kazakhstan", "Kenya", "Kirghizistan", "Kiribati", "Kowe√Øt", "Laos",
            "Lesotho", "Lettonie", "Liban", "Liberia", "Libye", "Lituanie",
            "Luxembourg", "Madagascar", "Malaisie", "Malawi", "Maldives", "Mali",
            "Malte", "Maroc", "Maurice", "Mauritanie", "Mexique", "Micron√©sie",
            "Moldavie", "Monaco", "Mongolie", "Mozambique", "Namibie", "Nauru",
            "N√©pal", "Nicaragua", "Niger", "Nig√©ria", "Norv√®ge", "Nouvelle-Z√©lande",
            "Oman", "Pakistan", "Palaos", "Panama", "Papouasie-Nouvelle-Guin√©e",
            "Paraguay", "Pays-Bas", "Philippines", "Pologne", "Portugal", "Qatar",
            "Roumanie", "Royaume-Uni", "Russie", "Rwanda", "Saint-Kitts-et-Nevis",
            "Saint-Vincent-et-les-Grenadines", "Sao Tom√©-et-Principe", "S√©n√©gal",
            "Serbie", "Seychelles", "Sierra Leone", "Singapour", "Slovaquie",
            "Slov√©nie", "Somalie", "Soudan", "Soudan du Sud", "Sri Lanka",
            "Su√®de", "Suisse", "Syrie", "Tadjikistan", "Tanzanie", "Tchad",
            "Tch√©quie", "Tha√Ølande", "Timor oriental", "Togo", "Tonga",
            "Trinit√©-et-Tobago", "Tunisie", "Turkm√©nistan", "Turquie", "Tuvalu",
            "Ukraine", "Uganda", "Uruguay", "Vanuatu", "Vatican", "Venezuela",
            "Vietnam", "Y√©men", "Zambie", "Zimbabwe"
        ];

        let usedChallenges = [];
        let currentChallengeIndex = -1; // Index actuel du d√©fi

        function getUniqueChallenge() {
            if (usedChallenges.length === challenges.length) {
                document.getElementById('thankYouMessage').innerText = "Merci d'avoir particip√© au jeu ! üéâ";
                document.getElementById('thankYouMessage').classList.remove('hidden');
                document.getElementById('nextChallengeBtn').classList.add('hidden');
                document.getElementById('prevChallenge').classList.add('hidden');
                return null;
            }
            let challenge;
            do {
                challenge = challenges[Math.floor(Math.random() * challenges.length)];
            } while (usedChallenges.includes(challenge));
            usedChallenges.push(challenge);
            return challenge;
        }

        let hasDrawn = false;

        document.getElementById('startButton').addEventListener('click', function() {
            const name = document.getElementById('nameInput').value;
            const gender = document.getElementById('genderSelect').value;

            if (!name || !gender) {
                alert('Veuillez remplir votre pr√©nom et s√©lectionner votre sexe.');
                return;
            }

            document.getElementById('formSection').classList.add('hidden');
            document.getElementById('gameSection').classList.remove('hidden');
            document.getElementById('partnerName').innerText = '';
            document.getElementById('message').innerText = '';
            document.getElementById('prediction').innerText = '';
            document.getElementById('result').classList.add('hidden');
            hasDrawn = false;
            usedChallenges = [];
            currentChallengeIndex = -1;  // R√©initialiser l'index des d√©fis
            document.getElementById('thankYouMessage').classList.add('hidden');
            document.getElementById('challengeSection').classList.add('hidden');
        });

        document.getElementById('drawButton').addEventListener('click', function() {
            if (hasDrawn) {
                alert("Vous avez d√©j√† tir√© au sort un partenaire !");
                return;
            }

            const gender = document.getElementById('genderSelect').value;
            const partner = gender === 'girl' 
                ? boys[Math.floor(Math.random() * boys.length)] 
                : girls[Math.floor(Math.random() * girls.length)];

            const numberOfChildren = Math.floor(Math.random() * 20) + 1; // 1 √† 20 enfants
            const city = countries[Math.floor(Math.random() * countries.length)];

            // Animation pour le nom du partenaire
            const partnerNameElement = document.getElementById('partnerName');
            gsap.fromTo(partnerNameElement, { opacity: 0, y: -50 }, { opacity: 1, y: 0, duration: 1 });

            // Animation pour le message
            const messageElement = document.getElementById('message');
            gsap.fromTo(messageElement, { opacity: 0, y: -50 }, { opacity: 1, y: 0, duration: 1, delay: 0.5 });

            // Animation pour la pr√©diction
            const predictionElement = document.getElementById('prediction');
            gsap.fromTo(predictionElement, { opacity: 0, y: -50 }, { opacity: 1, y: 0, duration: 1, delay: 1 });

            document.getElementById('partnerName').innerText = partner;
            document.getElementById('message').innerText = `Vous allez vous marier √† ${partner} ! üéâ`;
            document.getElementById('prediction').innerText = `Vous aurez ${numberOfChildren} enfant(s) et vivrez √† ${city}.`;
            document.getElementById('result').classList.remove('hidden');
            hasDrawn = true;

            // D√©marrer les animations de c√©l√©bration
            createCelebrationIcons();
            document.getElementById('challengeSection').classList.remove('hidden');
            showNextChallenge();
        });

        document.getElementById('nextChallengeBtn').addEventListener('click', function() {
            showNextChallenge();
        });

        document.getElementById('prevChallenge').addEventListener('click', function() {
            showPrevChallenge();
        });

        function showNextChallenge() {
            if (currentChallengeIndex < challenges.length - 1) {
                currentChallengeIndex++;
                const challengeText = challenges[currentChallengeIndex];
                document.getElementById('challengeContent').innerText = challengeText;
                updateChallengeButtons();
            }
        }

        function showPrevChallenge() {
            if (currentChallengeIndex > 0) {
                currentChallengeIndex--;
                const challengeText = challenges[currentChallengeIndex];
                document.getElementById('challengeContent').innerText = challengeText;
                updateChallengeButtons();
            }
        }

        function updateChallengeButtons() {
            document.getElementById('prevChallenge').classList.toggle('hidden', currentChallengeIndex === 0);
            document.getElementById('nextChallengeBtn').classList.toggle('hidden', currentChallengeIndex === challenges.length - 1);
        }

        function createCelebrationIcons() {
            const iconCount = 10; // Nombre d'ic√¥nes de c√©l√©bration
            for (let i = 0; i < iconCount; i++) {
                const icon = document.createElement('i');
                icon.classList.add('celebration-icon', 'fas', 'fa-confetti-ball'); // Utilisation d'une ic√¥ne FontAwesome
                icon.style.left = Math.random() * 100 + 'vw';
                icon.style.animationDuration = Math.random() * 2 + 2 + 's'; // Dur√©e al√©atoire
                document.body.appendChild(icon);
                
                // Animation de rebond
                gsap.fromTo(icon, { y: -100, opacity: 1 }, { y: window.innerHeight, opacity: 0, duration: 2, ease: "bounce.out", onComplete: () => icon.remove() });
            }
        }
    </script>
</body>
</html>
